<app-modal-borrar-trivia></app-modal-borrar-trivia>
<div class="container">
  <div class="row d-flex justify-content-center">
    <div class="misPartidas col-md-9 mt-5 ml-5">
      <h2 style="font-weight: bold">Mis trivias</h2>
      <hr />
    </div>
    <div class="misPartidas col-md-9 mt-3 mb-3 ml-5">
      <div class="dropdown">
        <button
          class="btn dropdown-toggle"
          type="button"
          data-toggle="dropdown"
          aria-expanded="false">
          Odenar por:
        </button>
        <div
          class="dropdown-menu"
          style="background-color: #ffb1b5">
          <a
            class="dropdown-item"
            href="#"
            >Action</a
          >
          <a
            class="dropdown-item"
            href="#"
            >Another action</a
          >
          <a
            class="dropdown-item"
            href="#"
            >Something else here</a
          >
        </div>
      </div>
    </div>
    <div class="col-md-8">
      <div
        class="mb-3 mt-3"
        *ngFor="let trivia of trivias | slice: offset:limit; let i = index">
        <app-modal
          [modalPorAbrir]="'iniciarPartida'"
          [idTrivia]="trivia.id"></app-modal>
        <div class="row d-flex">
          <div
            class="col-md-2 card justify-content-center"
            style="background-color: #4a51c9">
            <!-- Parte de color de la izquierda -->
            <div class="row d-flex">
              <div
                class="text-center"
                style="cursor: pointer"
                data-bs-toggle="modal"
                data-bs-target="#modalGeneral">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="50"
                  height="50"
                  viewBox="0 0 50 50"
                  fill="none">
                  <rect
                    x="8.57031"
                    y="10"
                    width="32.8571"
                    height="28.5714"
                    fill="#FCFCFC" />
                  <path
                    d="M50 25C50 38.8086 38.8086 50 25 50C11.1914 50 0 38.8086 0 25C0 11.1914 11.1914 0 25 0C38.8086 0 50 11.1914 50 25ZM18.3887 14.3652C17.6465 14.7754 17.1875 15.5664 17.1875 16.4062V33.5938C17.1875 34.4434 17.6465 35.2246 18.3887 35.6348C19.1309 36.0449 20.0293 36.0352 20.7617 35.5859L34.8242 26.9922C35.5176 26.5625 35.9473 25.8105 35.9473 24.9902C35.9473 24.1699 35.5176 23.418 34.8242 22.9883L20.7617 14.3945C20.0391 13.9551 19.1309 13.9355 18.3887 14.3457V14.3652Z"
                    fill="#FD999B" />
                </svg>
              </div>
            </div>
          </div>

          <div
            class="col-md-10 card"
            style="cursor: pointer"
            (click)="irVerTrivia(trivia.id)">
            <div class="row d-flex">
              <div class="col-md-8">
                <div class="d-flex flex-row m-2">
                  <h4>{{ trivia._nombre }}</h4>
                  <svg
                    class="ms-3"
                    style="cursor: pointer"
                    (click)="irEditarTrivia(trivia.id)"
                    xmlns="http://www.w3.org/2000/svg"
                    width="28"
                    height="28"
                    viewBox="0 0 20 20"
                    fill="none">
                    <g clip-path="url(#clip0_3050_442177)">
                      <path
                        d="M18.4219 0.847656C17.5664 -0.00781251 16.1836 -0.00781251 15.3281 0.847656L14.1523 2.01953L17.9766 5.84375L19.1523 4.66797C20.0078 3.8125 20.0078 2.42969 19.1523 1.57422L18.4219 0.847656ZM6.73437 9.44141C6.49609 9.67969 6.3125 9.97266 6.20703 10.2969L5.05078 13.7656C4.9375 14.1016 5.02734 14.4727 5.27734 14.7266C5.52734 14.9805 5.89844 15.0664 6.23828 14.9531L9.70703 13.7969C10.0273 13.6875 10.3203 13.5078 10.5625 13.2695L17.0977 6.73047L13.2695 2.90234L6.73437 9.44141ZM3.75 2.5C1.67969 2.5 0 4.17969 0 6.25V16.25C0 18.3203 1.67969 20 3.75 20H13.75C15.8203 20 17.5 18.3203 17.5 16.25V12.5C17.5 11.8086 16.9414 11.25 16.25 11.25C15.5586 11.25 15 11.8086 15 12.5V16.25C15 16.9414 14.4414 17.5 13.75 17.5H3.75C3.05859 17.5 2.5 16.9414 2.5 16.25V6.25C2.5 5.55859 3.05859 5 3.75 5H7.5C8.19141 5 8.75 4.44141 8.75 3.75C8.75 3.05859 8.19141 2.5 7.5 2.5H3.75Z"
                        fill="#FD999B" />
                    </g>
                    <defs>
                      <clipPath id="clip0_3050_442177">
                        <rect
                          width="20"
                          height="20"
                          fill="white" />
                      </clipPath>
                    </defs>
                  </svg>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    style="cursor: pointer"
                    data-toggle="modal"
                    data-target="#borrar-trivia-modal"
                    width="28"
                    height="28"
                    fill="none"
                    class="bi bi-trash3 ms-3"
                    viewBox="0 0 16 16">
                    <path
                      d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5ZM11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H2.506a.58.58 0 0 0-.01 0H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1h-.995a.59.59 0 0 0-.01 0H11Zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5h9.916Zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47ZM8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5Z"
                      fill="#FD999B" />
                  </svg>
                </div>
                <hr />

                <p *ngIf="trivia._descripcion; else noDescp">
                  {{ trivia._descripcion | slice: 0:50 }}
                </p>
                <ng-template #noDescp> Sin descripcion </ng-template>
              </div>
              <div class="col-md-4 text-center">
                <h4>Estrellitas de rating</h4>
                <p>Id: {{ trivia.id }}</p>
                <p>{{ trivia._fechaCreacion | date }}</p>
                <p>{{ trivia._creadoPor?._nombre }}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-md-8">
      <div class="d-flex justify-content-between mt-4 mb-5">
        <div
          (click)="prevQuiz()"
          class="btn btn-prev col-md-2 m-3">
          <i
            class="bi bi-arrow-left"
            style="font-style: inherit"
            >Prev</i
          >
        </div>
        <div
          (click)="nextQuiz()"
          class="btn btn-next col-md-2 m-3">
          <i
            class="bi bi-arrow-right"
            style="font-style: inherit"
            >Next</i
          >
        </div>
      </div>
    </div>
  </div>
</div>
